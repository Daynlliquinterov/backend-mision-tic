{"ast":null,"code":"import { API } from '../config';\nimport queryString from 'query-string';\nexport const getVideogames = () => {\n  return fetch(`${API}/videogame/videogames`, {\n    method: 'GET'\n  }).then(response => {\n    console.log(response);\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const read = videogameId => {\n  return fetch(`${API}/videogame/${videogameId}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const signin = user => {\n  return fetch(`${API}/auth/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user) // user: \n\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const signup = user => {\n  return fetch(`${API}/auth/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const authenticate = (data, next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n};\nexport const signout = next => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    next();\n    return fetch(`${API}/auth/signout`, {\n      method: 'GET'\n    }).then(response => {\n      console.log('signout', response);\n    }).catch(err => console.log(err));\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt')); // return localStorage.getItem('jwt')\n  }\n\n  return false;\n}; //  add this to route later\n\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const getCategories = () => {\n  return fetch(`${API}/category/categories`, {\n    method: 'GET'\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n}; // ${userId}\n\nexport const createVideogame = (userId, token, videogame) => {\n  return fetch(`${API}/videogame/create/`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: videogame\n  }).then(response => {\n    return response.json();\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["/usr/local/var/www/Copia de mern/frontend/src/core/apiCore.js"],"names":["API","queryString","getVideogames","fetch","method","then","response","console","log","json","catch","err","read","videogameId","signin","user","headers","Accept","body","JSON","stringify","signup","authenticate","data","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","createCategory","userId","token","category","Authorization","getCategories","createVideogame","videogame"],"mappings":"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","sourcesContent":["import { API } from '../config';\nimport queryString from 'query-string'\n\nexport const getVideogames = () => {\n  return fetch(\n    `${API}/videogame/videogames`,\n    {\n      method: 'GET'\n    }\n  )\n    .then(response =>{ \n      console.log(response)\n      return response.json()\n    })\n    .catch(err => console.log(err))\n}\n\nexport const read = (videogameId) => {\n  return fetch(`${API}/videogame/${videogameId}`, {\n    method: \"GET\"\n  }).then(response => {\n    return response.json();\n  })\n    .catch(err => console.log(err))\n}\n\nexport const signin = user => {\n  return fetch(`${API}/auth/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user) // user: \n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n};\n\nexport const signup = user => {\n  return fetch(`${API}/auth/signup`, { \n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    })\n};\n\nexport const authenticate = (data, next) => {\n  if(typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(data));\n    next();\n  }\n}\n\nexport const signout = (next) => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    next();\n    return fetch(`${API}/auth/signout`, {\n      method: 'GET',\n    })\n      .then(response => {\n          console.log('signout',response);\n      })\n      .catch( err => console.log(err));\n  }\n}\n\nexport const isAuthenticated = () => {\n  if(typeof window == 'undefined') {\n    return false;\n  }\n  if (localStorage.getItem('jwt')) {\n    return JSON.parse(localStorage.getItem('jwt'));\n    // return localStorage.getItem('jwt')\n  }\n    return false;\n}\n//  add this to route later\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  })\n    .then(response => {\n      return response.json()\n    })\n    .catch(err => {\n      console.log(err)\n    })\n}\n\nexport const getCategories = () => {\n  return fetch(`${API}/category/categories`, {\n    method: 'GET'\n  })\n    .then(response => {\n      return response.json()\n    })\n    .catch(err => {\n      console.log(err)\n    })\n}\n// ${userId}\nexport const createVideogame = (userId, token, videogame) => {\n  return fetch(`${API}/videogame/create/`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: videogame\n  })\n    .then(response => {\n      return response.json()\n    })\n    .catch(err => {\n      console.log(err)\n    })\n}"]},"metadata":{},"sourceType":"module"}